{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport { Box, Button, Image, Text, View } from \"native-base\";\nimport { showMessage } from \"react-native-flash-message\";\nimport { useQuery } from \"react-query\";\nimport ChecklistImage from \"../../../assets/images/checklist.png\";\nimport { API } from \"../../config/Api\";\nimport moment from \"moment\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Detail(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    listId = _route$params.listId,\n    listBgColor = _route$params.listBgColor,\n    categoryBgColor = _route$params.categoryBgColor,\n    categoryName = _route$params.categoryName;\n  var _useQuery = useQuery(\"listDetailCaches\", _asyncToGenerator(function* () {\n      var listResponse = yield API.get(\"/Todo/\" + listId);\n      return listResponse.data;\n    })),\n    list = _useQuery.data,\n    listRefetch = _useQuery.refetch;\n  function handleUpdateIsDone(_x, _x2, _x3) {\n    return _handleUpdateIsDone.apply(this, arguments);\n  }\n  function _handleUpdateIsDone() {\n    _handleUpdateIsDone = _asyncToGenerator(function* (e, id_todo, current_status) {\n      e.preventDefault();\n      try {\n        yield API.patch(\"/Todo/\" + id_todo, {\n          is_done: current_status == 0 ? 1 : 0\n        });\n        listRefetch();\n      } catch (err) {\n        showMessage({\n          message: \"Failed to change status todo!\",\n          type: \"danger\"\n        });\n      }\n    });\n    return _handleUpdateIsDone.apply(this, arguments);\n  }\n  return _jsxs(View, {\n    borderRadius: 8,\n    m: 5,\n    p: 5,\n    bg: listBgColor,\n    h: \"92%\",\n    children: [_jsxs(HStack, {\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      mb: 30,\n      children: [_jsx(Text, {\n        children: _jsx(Text, {\n          fontSize: \"xl\",\n          bold: true,\n          children: list == null ? void 0 : list.name\n        })\n      }), _jsxs(VStack, {\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        children: [_jsx(Pressable, {\n          mb: 3,\n          borderRadius: 8,\n          p: 1,\n          bg: \"blue.200\",\n          children: _jsx(Text, {\n            color: \"#fff\",\n            children: data.category\n          })\n        }), _jsx(Button, {\n          bg: \"transparent\",\n          borderRadius: 100,\n          _hover: {\n            backgroundColor: {\n              listBgColor: listBgColor\n            }\n          },\n          _pressed: {\n            backgroundColor: {\n              listBgColor: listBgColor\n            }\n          },\n          onPress: function onPress(e) {\n            return handleUpdateIsDone(e, list == null ? void 0 : list._id, list == null ? void 0 : list.is_done);\n          },\n          children: list != null && list.is_done ? _jsx(Image, {\n            source: ChecklistImage,\n            w: 10,\n            h: 10,\n            resizeMode: \"contain\",\n            alt: \"ChecklistImage\"\n          }) : _jsx(_Fragment, {\n            children: _jsx(Button, {\n              alignContent: \"center\",\n              bg: list != null && list.is_done ? \"white\" : \"muted.200\",\n              borderRadius: 100,\n              borderWidth: 0,\n              _hover: {\n                backgroundColor: \"muted.300\"\n              },\n              _pressed: {\n                backgroundColor: \"muted.400\"\n              },\n              w: 10,\n              h: 10,\n              onPress: function onPress(e) {\n                return handleUpdateIsDone(e, list == null ? void 0 : list._id, list == null ? void 0 : list.is_done);\n              }\n            })\n          })\n        })]\n      })]\n    }), _jsx(Text, {\n      color: \"coolGray.400\",\n      children: list.description\n    })]\n  });\n}\nexport default Detail;","map":{"version":3,"names":["FontAwesome","Box","Button","Image","Text","View","showMessage","useQuery","ChecklistImage","API","moment","Detail","route","navigation","params","listId","listBgColor","categoryBgColor","categoryName","listResponse","get","data","list","listRefetch","refetch","handleUpdateIsDone","e","id_todo","current_status","preventDefault","patch","is_done","err","message","type","name","category","backgroundColor","_id","description"],"sources":["/home/aziz/Desktop/mobile/src/components/screen/Detail.js"],"sourcesContent":["import { FontAwesome } from \"@expo/vector-icons\"\nimport { Box, Button, Image, Text, View } from \"native-base\"\nimport { showMessage } from \"react-native-flash-message\"\nimport { useQuery } from \"react-query\"\nimport ChecklistImage from \"../../../assets/images/checklist.png\"\nimport { API } from \"../../config/Api\"\nimport moment from \"moment\"\n\nfunction Detail({ route, navigation }) {\n  let { listId, listBgColor, categoryBgColor, categoryName } = route.params\n\n  let { data: list, refetch: listRefetch } = useQuery(\n    \"listDetailCaches\",\n    async () => {\n      let listResponse = await API.get(`/Todo/${listId}`)\n      return listResponse.data\n    }\n  )\n\n  async function handleUpdateIsDone(e, id_todo, current_status) {\n    e.preventDefault()\n    try {\n      await API.patch(`/Todo/${id_todo}`, {\n        is_done: current_status == 0 ? 1 : 0,\n      })\n      listRefetch()\n    } catch (err) {\n      showMessage({\n        message: \"Failed to change status todo!\",\n        type: \"danger\",\n      })\n    }\n  }\n\n  return (\n    <View borderRadius={8} m={5} p={5} bg={listBgColor} h=\"92%\">\n      <HStack justifyContent=\"space-between\" alignItems=\"center\" mb={30}>\n        <Text>\n          <Text fontSize=\"xl\" bold>\n            {list?.name}\n          </Text>\n        </Text>\n        <VStack alignItems=\"center\" justifyContent=\"center\">\n          <Pressable mb={3} borderRadius={8} p={1} bg=\"blue.200\">\n            <Text color=\"#fff\">{data.category}</Text>\n          </Pressable>\n          <Button\n            bg=\"transparent\"\n            borderRadius={100}\n            _hover={{ backgroundColor: { listBgColor } }}\n            _pressed={{ backgroundColor: { listBgColor } }}\n            onPress={(e) => handleUpdateIsDone(e, list?._id, list?.is_done)}\n          >\n            {list?.is_done ? (\n              <Image\n                source={ChecklistImage}\n                w={10}\n                h={10}\n                resizeMode=\"contain\"\n                alt=\"ChecklistImage\"\n              />\n            ) : (\n              <>\n                <Button\n                  alignContent=\"center\"\n                  bg={list?.is_done ? \"white\" : \"muted.200\"}\n                  borderRadius={100}\n                  borderWidth={0}\n                  _hover={{ backgroundColor: \"muted.300\" }}\n                  _pressed={{ backgroundColor: \"muted.400\" }}\n                  w={10}\n                  h={10}\n                  onPress={(e) =>\n                    handleUpdateIsDone(e, list?._id, list?.is_done)\n                  }\n                ></Button>\n              </>\n            )}\n          </Button>\n        </VStack>\n      </HStack>\n\n      <Text color=\"coolGray.400\">{list.description}</Text>\n    </View>\n  )\n}\n\nexport default Detail\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}