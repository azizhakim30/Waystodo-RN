{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport { Box, Button, Image, Text, Stack, HStack, VStack } from \"native-base\";\nimport { showMessage } from \"react-native-flash-message\";\nimport { useQuery } from \"react-query\";\nimport ChecklistImage from \"../../../assets/images/checklist.png\";\nimport { API } from \"../../config/Api\";\nimport moment from \"moment\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Detail(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    listId = _route$params.listId,\n    listBgColor = _route$params.listBgColor,\n    categoryBgColor = _route$params.categoryBgColor,\n    categoryName = _route$params.categoryName;\n  var _useQuery = useQuery(\"listDetailCaches\", _asyncToGenerator(function* () {\n      var listResponse = yield API.get(\"/Todo/\" + listId);\n      return listResponse.data;\n    })),\n    list = _useQuery.data,\n    listRefetch = _useQuery.refetch;\n  function handleUpdateIsDone(_x, _x2, _x3) {\n    return _handleUpdateIsDone.apply(this, arguments);\n  }\n  function _handleUpdateIsDone() {\n    _handleUpdateIsDone = _asyncToGenerator(function* (e, id_todo, current_status) {\n      e.preventDefault();\n      try {\n        yield API.patch(\"/Todo/\" + id_todo, {\n          is_done: current_status == 0 ? 1 : 0\n        });\n        listRefetch();\n      } catch (err) {\n        showMessage({\n          message: \"Failed to change status todo!\",\n          type: \"danger\"\n        });\n      }\n    });\n    return _handleUpdateIsDone.apply(this, arguments);\n  }\n  return _jsx(Box, {\n    maxH: \"82%\",\n    children: _jsxs(Stack, {\n      m: \"3\",\n      w: \"93%\",\n      rounded: \"sm\",\n      bg: listBgColor,\n      pb: 5,\n      children: [_jsxs(HStack, {\n        justifyContent: \"space-between\",\n        p: \"3\",\n        pb: 0,\n        children: [_jsxs(Box, {\n          justifyContent: \"center\",\n          w: \"70%\",\n          children: [(list == null ? void 0 : list.status) > 0 ? _jsx(Text, {\n            strikeThrough: true,\n            fontSize: \"4xl\",\n            fontWeight: \"bold\",\n            children: list == null ? void 0 : list.name\n          }) : _jsx(Text, {\n            fontSize: \"4xl\",\n            fontWeight: \"bold\",\n            children: list == null ? void 0 : list.name\n          }), _jsx(Text, {\n            children: moment(list == null ? void 0 : list.date).format(\"dddd, DD MMMM YYYY\")\n          })]\n        }), _jsxs(VStack, {\n          mt: \"3\",\n          space: \"3\",\n          children: [_jsx(Badge, {\n            variant: \"subtle\",\n            bg: categoryBgColor,\n            rounded: \"md\",\n            children: _jsx(Text, {\n              fontSize: \"xl\",\n              children: list == null ? void 0 : list.category\n            })\n          }), _jsx(Button, {\n            variant: \"unstyled\",\n            children: (list == null ? void 0 : list.status) > 0 ? _jsx(FontAwesome, {\n              name: \"check-circle\",\n              size: 46,\n              color: \"#22c55e\"\n            }) : _jsx(FontAwesome, {\n              name: \"circle-o\",\n              size: 46,\n              color: \"#0369a1\"\n            })\n          })]\n        })]\n      }), _jsx(FlatList, {\n        showsVerticalScrollIndicator: false,\n        ListHeaderComponent: _jsx(Text, {\n          fontSize: \"xl\",\n          m: \"3\",\n          color: \"gray.600\",\n          children: list == null ? void 0 : list.description\n        }),\n        renderItem: function renderItem() {\n          list == null ? void 0 : list.description;\n        }\n      })]\n    })\n  });\n}\nexport default Detail;","map":{"version":3,"names":["FontAwesome","Box","Button","Image","Text","Stack","HStack","VStack","showMessage","useQuery","ChecklistImage","API","moment","Detail","route","navigation","params","listId","listBgColor","categoryBgColor","categoryName","listResponse","get","data","list","listRefetch","refetch","handleUpdateIsDone","e","id_todo","current_status","preventDefault","patch","is_done","err","message","type","status","name","date","format","category","description"],"sources":["/home/aziz/Desktop/mobile/src/components/screen/Detail.js"],"sourcesContent":["import { FontAwesome } from \"@expo/vector-icons\"\nimport { Box, Button, Image, Text, Stack, HStack, VStack } from \"native-base\"\nimport { showMessage } from \"react-native-flash-message\"\nimport { useQuery } from \"react-query\"\nimport ChecklistImage from \"../../../assets/images/checklist.png\"\nimport { API } from \"../../config/Api\"\nimport moment from \"moment\"\n\nfunction Detail({ route, navigation }) {\n  let { listId, listBgColor, categoryBgColor, categoryName } = route.params\n\n  let { data: list, refetch: listRefetch } = useQuery(\n    \"listDetailCaches\",\n    async () => {\n      let listResponse = await API.get(`/Todo/${listId}`)\n      return listResponse.data\n    }\n  )\n\n  async function handleUpdateIsDone(e, id_todo, current_status) {\n    e.preventDefault()\n    try {\n      await API.patch(`/Todo/${id_todo}`, {\n        is_done: current_status == 0 ? 1 : 0,\n      })\n      listRefetch()\n    } catch (err) {\n      showMessage({\n        message: \"Failed to change status todo!\",\n        type: \"danger\",\n      })\n    }\n  }\n\n  return (\n    <Box maxH={\"82%\"}>\n      <Stack m={\"3\"} w={\"93%\"} rounded=\"sm\" bg={listBgColor} pb={5}>\n        <HStack justifyContent={\"space-between\"} p=\"3\" pb={0}>\n          <Box justifyContent={\"center\"} w={\"70%\"}>\n            {list?.status > 0 ? (\n              <Text strikeThrough fontSize={\"4xl\"} fontWeight=\"bold\">\n                {list?.name}\n              </Text>\n            ) : (\n              <Text fontSize={\"4xl\"} fontWeight=\"bold\">\n                {list?.name}\n              </Text>\n            )}\n            <Text>{moment(list?.date).format(\"dddd, DD MMMM YYYY\")}</Text>\n          </Box>\n          <VStack mt={\"3\"} space=\"3\">\n            <Badge variant={\"subtle\"} bg={categoryBgColor} rounded={\"md\"}>\n              <Text fontSize={\"xl\"}>{list?.category}</Text>\n            </Badge>\n            <Button variant={\"unstyled\"}>\n              {list?.status > 0 ? (\n                <FontAwesome name=\"check-circle\" size={46} color={\"#22c55e\"} />\n              ) : (\n                <FontAwesome name=\"circle-o\" size={46} color={\"#0369a1\"} />\n              )}\n            </Button>\n          </VStack>\n        </HStack>\n        <FlatList\n          showsVerticalScrollIndicator={false}\n          ListHeaderComponent={\n            <Text fontSize={\"xl\"} m=\"3\" color={\"gray.600\"}>\n              {list?.description}\n            </Text>\n          }\n          renderItem={() => {\n            list?.description\n          }}\n        />\n      </Stack>\n    </Box>\n  )\n}\n\nexport default Detail\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}