{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport { Box, Button, Image, Text } from \"native-base\";\nimport { showMessage } from \"react-native-flash-message\";\nimport { useQuery } from \"react-query\";\nimport ChecklistImage from \"../../../assets/images/checklist.png\";\nimport { API } from \"../../config/Api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nfunction Detail(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    listId = _route$params.listId,\n    listBgColor = _route$params.listBgColor,\n    categoryBgColor = _route$params.categoryBgColor,\n    categoryName = _route$params.categoryName;\n  var _useQuery = useQuery(\"listDetailCaches\", _asyncToGenerator(function* () {\n      var listResponse = yield API.get(\"/Todo/\" + listId);\n      return listResponse.data;\n    })),\n    list = _useQuery.data,\n    listRefetch = _useQuery.refetch;\n  function milisToDate(milis) {\n    var date = new Date(milis);\n    var convertMonth = function convertMonth(month) {\n      switch (month) {\n        case 0:\n          return \"Januari\";\n        case 1:\n          return \"Februari\";\n        case 2:\n          return \"Maret\";\n        case 3:\n          return \"April\";\n        case 4:\n          return \"Mei\";\n        case 5:\n          return \"Juni\";\n        case 6:\n          return \"Juli\";\n        case 7:\n          return \"Agustus\";\n        case 8:\n          return \"September\";\n        case 9:\n          return \"Oktober\";\n        case 10:\n          return \"November\";\n        case 11:\n          return \"Desember\";\n      }\n    };\n    return date.getDate() + \" \" + convertMonth(date.getMonth()) + \" \" + date.getFullYear();\n  }\n  function handleUpdateIsDone(_x, _x2, _x3) {\n    return _handleUpdateIsDone.apply(this, arguments);\n  }\n  function _handleUpdateIsDone() {\n    _handleUpdateIsDone = _asyncToGenerator(function* (e, id_todo, current_status) {\n      e.preventDefault();\n      try {\n        yield API.patch(\"/Todo/\" + id_todo, {\n          is_done: current_status == 0 ? 1 : 0\n        });\n        listRefetch();\n      } catch (err) {\n        showMessage({\n          message: \"Failed to change status todo!\",\n          type: \"danger\"\n        });\n      }\n    });\n    return _handleUpdateIsDone.apply(this, arguments);\n  }\n  return _jsx(Box, {\n    display: \"flex\",\n    flex: 1,\n    alignItems: \"center\",\n    bg: \"white\",\n    children: _jsxs(Box, {\n      bg: listBgColor,\n      w: \"90%\",\n      p: 10,\n      borderRadius: 10,\n      display: \"flex\",\n      flexDirection: \"row\",\n      mx: 5,\n      my: 5,\n      children: [_jsxs(Box, {\n        flex: 2,\n        h: 650,\n        children: [_jsx(Text, {\n          fontWeight: \"bold\",\n          fontSize: 20,\n          textDecorationLine: (list == null ? void 0 : list.is_done) == 0 ? \"none\" : \"line-through\",\n          children: list == null ? void 0 : list.name\n        }), _jsxs(Text, {\n          color: \"muted.500\",\n          display: \"flex\",\n          alignItems: \"center\",\n          children: [_jsx(FontAwesome, {\n            name: \"calendar\",\n            size: 15,\n            color: \"muted.500\",\n            style: {\n              marginRight: 5\n            }\n          }), milisToDate(list == null ? void 0 : list.date)]\n        }), _jsx(Text, {\n          mt: 5,\n          color: \"muted.500\",\n          flex: 1,\n          textDecorationLine: (list == null ? void 0 : list.is_done) == 0 ? \"none\" : \"line-through\",\n          children: list == null ? void 0 : list.description\n        })]\n      }), _jsxs(Box, {\n        flex: 1,\n        children: [_jsxs(Box, {\n          p: 1,\n          borderRadius: 10,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          bg: categoryBgColor,\n          children: [_jsx(Text, {\n            color: \"white\",\n            fontWeight: \"bold\",\n            children: categoryName\n          }), _jsx(Button, {\n            alignContent: \"center\",\n            bg: list != null && list.is_done ? \"white\" : \"muted.200\",\n            borderRadius: 100,\n            _hover: {\n              backgroundColor: \"muted.300\"\n            },\n            _pressed: {\n              backgroundColor: \"muted.400\"\n            },\n            w: 10,\n            h: 10,\n            onPress: function onPress(e) {\n              return handleUpdateIsDone(e, list == null ? void 0 : list._id, list == null ? void 0 : list.is_done);\n            },\n            children: list != null && list.is_done ? _jsx(Image, {\n              source: ChecklistImage,\n              w: 8,\n              h: 8,\n              resizeMode: \"contain\",\n              alt: \"ChecklistImage\"\n            }) : _jsx(_Fragment, {})\n          })]\n        }), _jsx(Box, {\n          flex: 1,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        })]\n      })]\n    })\n  });\n}\nexport default Detail;","map":{"version":3,"names":["FontAwesome","Box","Button","Image","Text","showMessage","useQuery","ChecklistImage","API","Detail","route","navigation","params","listId","listBgColor","categoryBgColor","categoryName","listResponse","get","data","list","listRefetch","refetch","milisToDate","milis","date","Date","convertMonth","month","getDate","getMonth","getFullYear","handleUpdateIsDone","e","id_todo","current_status","preventDefault","patch","is_done","err","message","type","name","marginRight","description","backgroundColor","_id"],"sources":["/home/aziz/Desktop/mobile/src/components/screen/Detail.js"],"sourcesContent":["import { FontAwesome } from \"@expo/vector-icons\"\nimport { Box, Button, Image, Text } from \"native-base\"\nimport { showMessage } from \"react-native-flash-message\"\nimport { useQuery } from \"react-query\"\nimport ChecklistImage from \"../../../assets/images/checklist.png\"\nimport { API } from \"../../config/Api\"\n\nfunction Detail({ route, navigation }) {\n  let { listId, listBgColor, categoryBgColor, categoryName } = route.params\n\n  let { data: list, refetch: listRefetch } = useQuery(\n    \"listDetailCaches\",\n    async () => {\n      let listResponse = await API.get(`/Todo/${listId}`)\n      return listResponse.data\n    }\n  )\n\n  function milisToDate(milis) {\n    let date = new Date(milis)\n    let convertMonth = (month) => {\n      switch (month) {\n        case 0:\n          return \"Januari\"\n        case 1:\n          return \"Februari\"\n        case 2:\n          return \"Maret\"\n        case 3:\n          return \"April\"\n        case 4:\n          return \"Mei\"\n        case 5:\n          return \"Juni\"\n        case 6:\n          return \"Juli\"\n        case 7:\n          return \"Agustus\"\n        case 8:\n          return \"September\"\n        case 9:\n          return \"Oktober\"\n        case 10:\n          return \"November\"\n        case 11:\n          return \"Desember\"\n      }\n    }\n    return `${date.getDate()} ${convertMonth(\n      date.getMonth()\n    )} ${date.getFullYear()}`\n  }\n\n  async function handleUpdateIsDone(e, id_todo, current_status) {\n    e.preventDefault()\n    try {\n      await API.patch(`/Todo/${id_todo}`, {\n        is_done: current_status == 0 ? 1 : 0,\n      })\n      listRefetch()\n    } catch (err) {\n      showMessage({\n        message: \"Failed to change status todo!\",\n        type: \"danger\",\n      })\n    }\n  }\n\n  return (\n    <Box display=\"flex\" flex={1} alignItems=\"center\" bg=\"white\">\n      <Box\n        bg={listBgColor}\n        w={\"90%\"}\n        p={10}\n        borderRadius={10}\n        display=\"flex\"\n        flexDirection=\"row\"\n        mx={5}\n        my={5}\n      >\n        <Box flex={2} h={650}>\n          <Text\n            fontWeight=\"bold\"\n            fontSize={20}\n            textDecorationLine={list?.is_done == 0 ? \"none\" : \"line-through\"}\n          >\n            {list?.name}\n          </Text>\n          <Text color=\"muted.500\" display=\"flex\" alignItems=\"center\">\n            <FontAwesome\n              name=\"calendar\"\n              size={15}\n              color=\"muted.500\"\n              style={{ marginRight: 5 }}\n            />\n            {milisToDate(list?.date)}\n          </Text>\n          <Text\n            mt={5}\n            color=\"muted.500\"\n            flex={1}\n            textDecorationLine={list?.is_done == 0 ? \"none\" : \"line-through\"}\n          >\n            {list?.description}\n          </Text>\n        </Box>\n        <Box flex={1}>\n          <Box\n            p={1}\n            borderRadius={10}\n            display=\"flex\"\n            alignItems=\"center\"\n            justifyContent=\"center\"\n            bg={categoryBgColor}\n          >\n            <Text color=\"white\" fontWeight=\"bold\">\n              {categoryName}\n            </Text>\n            <Button\n              alignContent=\"center\"\n              bg={list?.is_done ? \"white\" : \"muted.200\"}\n              borderRadius={100}\n              _hover={{ backgroundColor: \"muted.300\" }}\n              _pressed={{ backgroundColor: \"muted.400\" }}\n              w={10}\n              h={10}\n              onPress={(e) => handleUpdateIsDone(e, list?._id, list?.is_done)}\n            >\n              {list?.is_done ? (\n                <Image\n                  source={ChecklistImage}\n                  w={8}\n                  h={8}\n                  resizeMode=\"contain\"\n                  alt=\"ChecklistImage\"\n                />\n              ) : (\n                <></>\n              )}\n            </Button>\n          </Box>\n          <Box\n            flex={1}\n            display=\"flex\"\n            alignItems=\"center\"\n            justifyContent=\"center\"\n          >\n            {/* intinya buat ngatur buttonnya udah di klik belum, kalau udah ada checklistnya kalau belum ilangin */}\n          </Box>\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n\nexport default Detail\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}