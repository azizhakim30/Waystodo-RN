{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { createContext, useReducer } from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var UserContext = createContext();\nvar initialState = {\n  isLogin: false,\n  data: {}\n};\nfunction reducer(state, action) {\n  var type = action.type,\n    payload = action.payload;\n  switch (type) {\n    case \"AUTH_SUCCESS\":\n    case \"LOGIN_SUCCESS\":\n      AsyncStorage.setItem(\"token\", payload == null ? void 0 : payload.token);\n      return {\n        isLogin: true,\n        data: payload\n      };\n    case \"AUTH_ERROR\":\n    case \"LOGOUT_SUCCESS\":\n      AsyncStorage.removeItem(\"token\");\n      return {\n        isLogin: false,\n        data: {}\n      };\n    default:\n      throw new Error();\n  }\n}\nexport function UserContextProvider(_ref) {\n  var children = _ref.children;\n  var _useReducer = useReducer(reducer, initialState),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    state = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  return _jsx(UserContext.Provider, {\n    value: [state, dispatch],\n    children: children\n  });\n}","map":{"version":3,"names":["createContext","useReducer","AsyncStorage","UserContext","initialState","isLogin","data","reducer","state","action","type","payload","setItem","token","removeItem","Error","UserContextProvider","children","dispatch"],"sources":["/home/aziz/Desktop/mobile/src/context/UserContext.js"],"sourcesContent":["import { createContext, useReducer } from \"react\"\nimport AsyncStorage from \"@react-native-async-storage/async-storage\"\n\nexport const UserContext = createContext()\n\nconst initialState = {\n  isLogin: false,\n  data: {},\n}\n\nfunction reducer(state, action) {\n  const { type, payload } = action\n\n  switch (type) {\n    case \"AUTH_SUCCESS\":\n    case \"LOGIN_SUCCESS\":\n      AsyncStorage.setItem(\"token\", payload?.token)\n      return {\n        isLogin: true,\n        data: payload,\n      }\n    case \"AUTH_ERROR\":\n    case \"LOGOUT_SUCCESS\":\n      AsyncStorage.removeItem(\"token\")\n      return {\n        isLogin: false,\n        data: {},\n      }\n\n    default:\n      throw new Error()\n  }\n}\n\nexport function UserContextProvider({ children }) {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  return (\n    <UserContext.Provider value={[state, dispatch]}>\n      {children}\n    </UserContext.Provider>\n  )\n}\n"],"mappings":";AAAA,SAASA,aAAa,EAAEC,UAAU,QAAQ,OAAO;AACjD,OAAOC,YAAY,MAAM,2CAA2C;AAAA;AAEpE,OAAO,IAAMC,WAAW,GAAGH,aAAa,EAAE;AAE1C,IAAMI,YAAY,GAAG;EACnBC,OAAO,EAAE,KAAK;EACdC,IAAI,EAAE,CAAC;AACT,CAAC;AAED,SAASC,OAAO,CAACC,KAAK,EAAEC,MAAM,EAAE;EAC9B,IAAQC,IAAI,GAAcD,MAAM,CAAxBC,IAAI;IAAEC,OAAO,GAAKF,MAAM,CAAlBE,OAAO;EAErB,QAAQD,IAAI;IACV,KAAK,cAAc;IACnB,KAAK,eAAe;MAClBR,YAAY,CAACU,OAAO,CAAC,OAAO,EAAED,OAAO,oBAAPA,OAAO,CAAEE,KAAK,CAAC;MAC7C,OAAO;QACLR,OAAO,EAAE,IAAI;QACbC,IAAI,EAAEK;MACR,CAAC;IACH,KAAK,YAAY;IACjB,KAAK,gBAAgB;MACnBT,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC;MAChC,OAAO;QACLT,OAAO,EAAE,KAAK;QACdC,IAAI,EAAE,CAAC;MACT,CAAC;IAEH;MACE,MAAM,IAAIS,KAAK,EAAE;EAAA;AAEvB;AAEA,OAAO,SAASC,mBAAmB,OAAe;EAAA,IAAZC,QAAQ,QAARA,QAAQ;EAC5C,kBAA0BhB,UAAU,CAACM,OAAO,EAAEH,YAAY,CAAC;IAAA;IAApDI,KAAK;IAAEU,QAAQ;EAEtB,OACE,KAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE,CAACV,KAAK,EAAEU,QAAQ,CAAE;IAAA,UAC5CD;EAAQ,EACY;AAE3B"},"metadata":{},"sourceType":"module"}