{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { useContext, useEffect, useState } from \"react\";\nimport FlashMessage from \"react-native-flash-message\";\nimport Spinner from \"react-native-loading-spinner-overlay\";\nimport { UserContext } from \"./src/context/UserContext\";\nimport { MaterialIcons, FontAwesome5, MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport AddList from \"./src/components/screen/AddList\";\nimport Home from \"./src/components/screen/Home\";\nimport Login from \"./src/components/screen/Login\";\nimport Register from \"./src/components/screen/Register\";\nimport List from \"./src/components/screen/List\";\nimport Categories from \"./src/components/screen/Categories\";\nimport Detail from \"./src/components/screen/Detail\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { setAuthorization } from \"./src/config/Api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar NativeStack = createNativeStackNavigator();\nvar Stack = createStackNavigator();\nvar Tab = createBottomTabNavigator();\nvar ButtonTab = function ButtonTab() {\n  return _jsxs(Tab.Navigator, {\n    screenOptions: function screenOptions(_ref) {\n      var route = _ref.route;\n      return {\n        headerShown: false,\n        tabBarLabel: function tabBarLabel() {\n          return null;\n        },\n        tabBarIcon: function tabBarIcon(_ref2) {\n          var focused = _ref2.focused;\n          var bgColor;\n          if (route.name == \"List\") {\n            bgColor = focused ? \"#FF5555\" : \"#D9D9D9\";\n            return _jsx(FontAwesome5, {\n              name: \"clipboard-list\",\n              size: 25,\n              color: bgColor\n            });\n          } else if (route.name == \"AddList\") {\n            bgColor = focused ? \"#FF5555\" : \"#D9D9D9\";\n            return _jsx(MaterialCommunityIcons, {\n              name: \"clipboard-plus\",\n              size: 25,\n              color: bgColor\n            });\n          } else if (route.name == \"Categories\") {\n            bgColor = focused ? \"#FF5555\" : \"#D9D9D9\";\n            return _jsx(MaterialIcons, {\n              name: \"category\",\n              size: 25,\n              color: bgColor\n            });\n          }\n        }\n      };\n    },\n    children: [_jsx(Stack.Screen, {\n      name: \"List\",\n      component: List\n    }), _jsx(Stack.Screen, {\n      name: \"AddList\",\n      component: AddList\n    }), _jsx(Stack.Screen, {\n      name: \"Categories\",\n      component: Categories\n    })]\n  });\n};\nvar Containers = function Containers() {\n  var _useContext = useContext(UserContext),\n    _useContext2 = _slicedToArray(_useContext, 2),\n    state = _useContext2[0],\n    dispatch = _useContext2[1];\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  function checkAuth() {\n    return _checkAuth.apply(this, arguments);\n  }\n  function _checkAuth() {\n    _checkAuth = _asyncToGenerator(function* () {\n      try {\n        var token = yield AsyncStorage.getItem(\"token\");\n        if (token) setAuthorization(token);\n        yield API.post(\"/auth/verify-token\", {\n          validateStatus: function validateStatus() {\n            return true;\n          }\n        }).then(function (response) {\n          if (response.status >= 400) {\n            return dispatch({\n              type: \"AUTH_ERROR\"\n            });\n          }\n          var payload = response.data;\n          dispatch({\n            type: \"AUTH_SUCCESS\",\n            payload: payload\n          });\n        }).catch(function (error) {\n          dispatch({\n            type: \"AUTH_ERROR\"\n          });\n        });\n        setIsLoading(false);\n      } catch (error) {\n        setIsLoading(false);\n      }\n    });\n    return _checkAuth.apply(this, arguments);\n  }\n  function isAsyncTokenExist() {\n    return _isAsyncTokenExist.apply(this, arguments);\n  }\n  function _isAsyncTokenExist() {\n    _isAsyncTokenExist = _asyncToGenerator(function* () {\n      yield AsyncStorage.getItem(\"token\");\n      checkAuth();\n    });\n    return _isAsyncTokenExist.apply(this, arguments);\n  }\n  useEffect(function () {\n    isAsyncTokenExist();\n  }, []);\n  return _jsxs(_Fragment, {\n    children: [isLoading ? _jsx(Spinner, {\n      size: \"large\",\n      visible: isLoading,\n      textContent: \"Waiting...\",\n      overlayColor: \"rgba(0, 0, 0, 0.25)\"\n    }) : state.isLogin ? _jsxs(Stack.Navigator, {\n      children: [_jsx(Stack.Screen, {\n        name: \"todolist\",\n        component: TabNav,\n        options: {\n          headerShown: false\n        }\n      }), _jsx(Stack.Screen, {\n        name: \"detail\",\n        component: Detailtodo,\n        options: {\n          headerShown: true\n        }\n      })]\n    }) : _jsxs(Stack.Navigator, {\n      children: [_jsx(Stack.Screen, {\n        name: \"home\",\n        component: Home,\n        options: {\n          headerShown: false\n        }\n      }), _jsx(Stack.Screen, {\n        name: \"login\",\n        component: Login,\n        options: {\n          headerShown: false\n        }\n      }), _jsx(Stack.Screen, {\n        name: \"register\",\n        component: Register,\n        options: {\n          headerShown: false\n        }\n      })]\n    }), _jsx(FlashMessage, {\n      position: \"top\"\n    })]\n  });\n};\nexport default Containers;","map":{"version":3,"names":["createBottomTabNavigator","createNativeStackNavigator","createStackNavigator","useContext","useEffect","useState","FlashMessage","Spinner","UserContext","MaterialIcons","FontAwesome5","MaterialCommunityIcons","AddList","Home","Login","Register","List","Categories","Detail","AsyncStorage","setAuthorization","NativeStack","Stack","Tab","ButtonTab","route","headerShown","tabBarLabel","tabBarIcon","focused","bgColor","name","Containers","state","dispatch","isLoading","setIsLoading","checkAuth","token","getItem","API","post","validateStatus","then","response","status","type","payload","data","catch","error","isAsyncTokenExist","isLogin","TabNav","Detailtodo"],"sources":["/home/aziz/Desktop/mobile/container.js"],"sourcesContent":["import { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\"\nimport { createNativeStackNavigator } from \"@react-navigation/native-stack\"\nimport { createStackNavigator } from \"@react-navigation/stack\"\nimport { useContext, useEffect, useState } from \"react\"\nimport FlashMessage from \"react-native-flash-message\"\nimport Spinner from \"react-native-loading-spinner-overlay\"\nimport { UserContext } from \"./src/context/UserContext\"\n\nimport {\n  MaterialIcons,\n  FontAwesome5,\n  MaterialCommunityIcons,\n} from \"@expo/vector-icons\"\n\nimport AddList from \"./src/components/screen/AddList\"\nimport Home from \"./src/components/screen/Home\"\nimport Login from \"./src/components/screen/Login\"\nimport Register from \"./src/components/screen/Register\"\nimport List from \"./src/components/screen/List\"\nimport Categories from \"./src/components/screen/Categories\"\nimport Detail from \"./src/components/screen/Detail\"\nimport AsyncStorage from \"@react-native-async-storage/async-storage\"\nimport { setAuthorization } from \"./src/config/Api\"\n\nconst NativeStack = createNativeStackNavigator()\nconst Stack = createStackNavigator()\nconst Tab = createBottomTabNavigator()\n\nconst ButtonTab = () => {\n  return (\n    <Tab.Navigator\n      screenOptions={({ route }) => ({\n        headerShown: false,\n        tabBarLabel: () => {\n          return null\n        },\n        tabBarIcon: ({ focused }) => {\n          let bgColor\n          if (route.name == \"List\") {\n            bgColor = focused ? \"#FF5555\" : \"#D9D9D9\"\n            return (\n              <FontAwesome5 name=\"clipboard-list\" size={25} color={bgColor} />\n            )\n          } else if (route.name == \"AddList\") {\n            bgColor = focused ? \"#FF5555\" : \"#D9D9D9\"\n            return (\n              <MaterialCommunityIcons\n                name=\"clipboard-plus\"\n                size={25}\n                color={bgColor}\n              />\n            )\n          } else if (route.name == \"Categories\") {\n            bgColor = focused ? \"#FF5555\" : \"#D9D9D9\"\n            return <MaterialIcons name=\"category\" size={25} color={bgColor} />\n          }\n        },\n      })}\n    >\n      <Stack.Screen name=\"List\" component={List} />\n      <Stack.Screen name=\"AddList\" component={AddList} />\n      <Stack.Screen name=\"Categories\" component={Categories} />\n    </Tab.Navigator>\n  )\n}\n\nconst Containers = () => {\n  const [state, dispatch] = useContext(UserContext)\n  const [isLoading, setIsLoading] = useState(true)\n\n  async function checkAuth() {\n    try {\n      let token = await AsyncStorage.getItem(\"token\")\n\n      if (token) setAuthorization(token)\n\n      await API.post(\"/auth/verify-token\", {\n        validateStatus: () => true,\n      })\n        .then((response) => {\n          if (response.status >= 400) {\n            return dispatch({\n              type: \"AUTH_ERROR\",\n            })\n          }\n\n          const payload = response.data\n          dispatch({\n            type: \"AUTH_SUCCESS\",\n            payload,\n          })\n        })\n        .catch((error) => {\n          dispatch({\n            type: \"AUTH_ERROR\",\n          })\n        })\n      setIsLoading(false)\n    } catch (error) {\n      setIsLoading(false)\n    }\n  }\n\n  async function isAsyncTokenExist() {\n    await AsyncStorage.getItem(\"token\")\n    checkAuth()\n  }\n\n  useEffect(() => {\n    isAsyncTokenExist()\n  }, [])\n\n  return (\n    <>\n      {isLoading ? (\n        <Spinner\n          size=\"large\"\n          visible={isLoading}\n          textContent={\"Waiting...\"}\n          overlayColor=\"rgba(0, 0, 0, 0.25)\"\n        />\n      ) : state.isLogin ? (\n        <Stack.Navigator>\n          <Stack.Screen\n            name=\"todolist\"\n            component={TabNav}\n            options={{ headerShown: false }}\n          />\n          <Stack.Screen\n            name=\"detail\"\n            component={Detailtodo}\n            options={{ headerShown: true }}\n          />\n        </Stack.Navigator>\n      ) : (\n        <Stack.Navigator>\n          <Stack.Screen\n            name=\"home\"\n            component={Home}\n            options={{ headerShown: false }}\n          />\n          <Stack.Screen\n            name=\"login\"\n            component={Login}\n            options={{ headerShown: false }}\n          />\n          <Stack.Screen\n            name=\"register\"\n            component={Register}\n            options={{ headerShown: false }}\n          />\n        </Stack.Navigator>\n      )}\n      <FlashMessage position=\"top\" />\n    </>\n  )\n}\n\nexport default Containers\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}