{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { Box, Image, Input, Text, VStack, Button, HStack } from \"native-base\";\nimport React from \"react\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Register = function Register(_ref) {\n  var navigation = _ref.navigation;\n  var _React$useState = React.useState({\n      email: \"\",\n      name: \"\",\n      password: \"\"\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    form = _React$useState2[0],\n    setForm = _React$useState2[1];\n  var handleOnChange = function handleOnChange(name, value) {\n    setForm(_objectSpread(_objectSpread({}, form), {}, _defineProperty({}, name, value)));\n  };\n  var handleRegister = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var config = {\n          headers: {\n            \"Content-type\": \"application/json\"\n          }\n        };\n        var body = JSON.stringify(form);\n        var response = yield API.post(\"/auth/register\", body, config);\n        console.log(response);\n        if (response) {\n          yield AsyncStorage.setItem(\"token\", response.data.token);\n        }\n        var value = yield AsyncStorage.getItem(\"token\");\n        if (value !== null) {\n          console.log(value);\n        }\n        alert(\"Registration Succeeded\");\n        props.navigation.navigate(\"Login\");\n      } catch (e) {\n        console.log(e);\n        console.log(\"this error \");\n        alert(\"Registration Failed\");\n      }\n    });\n    return function handleRegister() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(Box, {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    children: [_jsx(Image, {\n      style: {\n        height: 250,\n        width: 250\n      },\n      mb: 10,\n      source: require(\"../../../assets/images/login.png\"),\n      alt: \"\"\n    }), _jsxs(Box, {\n      children: [_jsx(Text, {\n        fontSize: \"2xl\",\n        bold: true,\n        mb: 5,\n        children: \"Register\"\n      }), _jsxs(VStack, {\n        space: 4,\n        mb: 10,\n        children: [_jsx(Input, {\n          width: 300,\n          placeholder: \"Email\",\n          type: \"email\",\n          name: \"email\",\n          onChangeText: function onChangeText(value) {\n            return handleOnChange(\"email\", value);\n          }\n        }), _jsx(Input, {\n          width: 300,\n          placeholder: \"Name\",\n          type: \"text\",\n          name: \"name\",\n          onChangeText: function onChangeText(value) {\n            return handleOnChange(\"name\", value);\n          }\n        }), _jsx(Input, {\n          width: 300,\n          placeholder: \"Password\",\n          type: \"password\",\n          name: \"password\",\n          onChangeText: function onChangeText(value) {\n            return handleOnChange(\"password\", value);\n          }\n        })]\n      }), _jsx(Button, {\n        width: 300,\n        backgroundColor: \"#FF5555\",\n        onPress: handleRegister,\n        children: _jsx(Text, {\n          color: \"white\",\n          fontWeight: 800,\n          children: \"Register\"\n        })\n      })]\n    }), _jsxs(HStack, {\n      space: 2,\n      mt: 2,\n      children: [_jsx(Text, {\n        children: \"Joined us before?\"\n      }), _jsx(Text, {\n        color: \"#FF5555\",\n        onPress: function onPress() {\n          return navigation.navigate(\"Login\");\n        },\n        children: \"Login\"\n      })]\n    })]\n  });\n};\nexport default Register;","map":{"version":3,"names":["Box","Image","Input","Text","VStack","Button","HStack","React","AsyncStorage","Register","navigation","useState","email","name","password","form","setForm","handleOnChange","value","handleRegister","config","headers","body","JSON","stringify","response","API","post","console","log","setItem","data","token","getItem","alert","props","navigate","e","height","width","require"],"sources":["/home/aziz/Desktop/mobile/src/components/screen/Register.js"],"sourcesContent":["import { Box, Image, Input, Text, VStack, Button, HStack } from \"native-base\"\nimport React from \"react\"\nimport AsyncStorage from \"@react-native-async-storage/async-storage\"\n\nconst Register = ({ navigation }) => {\n  const [form, setForm] = React.useState({\n    email: \"\",\n    name: \"\",\n    password: \"\",\n  })\n\n  const handleOnChange = (name, value) => {\n    setForm({\n      ...form,\n      [name]: value,\n    })\n  }\n\n  const handleRegister = async () => {\n    try {\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n      }\n\n      const body = JSON.stringify(form)\n\n      const response = await API.post(\"/auth/register\", body, config)\n      console.log(response)\n\n      if (response) {\n        await AsyncStorage.setItem(\"token\", response.data.token)\n      }\n\n      const value = await AsyncStorage.getItem(\"token\")\n      if (value !== null) {\n        console.log(value)\n      }\n      alert(\"Registration Succeeded\")\n      props.navigation.navigate(\"Login\")\n    } catch (e) {\n      console.log(e)\n      console.log(\"this error \")\n      alert(\"Registration Failed\")\n    }\n  }\n  return (\n    <Box flex={1} alignItems=\"center\" justifyContent=\"center\">\n      <Image\n        style={{ height: 250, width: 250 }}\n        mb={10}\n        source={require(\"../../../assets/images/login.png\")}\n        alt=\"\"\n      />\n      <Box>\n        <Text fontSize=\"2xl\" bold mb={5}>\n          Register\n        </Text>\n        <VStack space={4} mb={10}>\n          <Input\n            width={300}\n            placeholder=\"Email\"\n            type=\"email\"\n            name=\"email\"\n            onChangeText={(value) => handleOnChange(\"email\", value)}\n          />\n          <Input\n            width={300}\n            placeholder=\"Name\"\n            type=\"text\"\n            name=\"name\"\n            onChangeText={(value) => handleOnChange(\"name\", value)}\n          />\n          <Input\n            width={300}\n            placeholder=\"Password\"\n            type=\"password\"\n            name=\"password\"\n            onChangeText={(value) => handleOnChange(\"password\", value)}\n          />\n        </VStack>\n        <Button width={300} backgroundColor=\"#FF5555\" onPress={handleRegister}>\n          <Text color=\"white\" fontWeight={800}>\n            Register\n          </Text>\n        </Button>\n      </Box>\n      <HStack space={2} mt={2}>\n        <Text>Joined us before?</Text>\n        <Text color=\"#FF5555\" onPress={() => navigation.navigate(\"Login\")}>\n          Login\n        </Text>\n      </HStack>\n    </Box>\n  )\n}\n\nexport default Register\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}