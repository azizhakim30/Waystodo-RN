{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { createContext, useReducer } from \"react\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var UserContext = createContext();\nvar initialState = {\n  isLogin: false,\n  data: {}\n};\nfunction reducer(action) {\n  var type = action.type,\n    payload = action.payload;\n  switch (type) {\n    case \"AUTH_SUCCESS\":\n    case \"LOGIN_SUCCESS\":\n      AsyncStorage.setItem(\"token\", payload == null ? void 0 : payload.token);\n      return {\n        isLogin: true,\n        data: payload\n      };\n    case \"AUTH_ERROR\":\n    case \"LOGOUT_SUCCESS\":\n      AsyncStorage.removeItem(\"token\");\n      return {\n        isLogin: false,\n        data: false\n      };\n  }\n}\nexport function UserContextProvider(_ref) {\n  var children = _ref.children;\n  var _useReducer = useReducer(reducer, initialState),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    state = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  return _jsx(UserContext.Provider, {\n    value: [state, dispatch],\n    children: children\n  });\n}","map":{"version":3,"names":["AsyncStorage","createContext","useReducer","UserContext","initialState","isLogin","data","reducer","action","type","payload","setItem","token","removeItem","UserContextProvider","children","state","dispatch"],"sources":["/home/aziz/Desktop/mobile/src/context/UserContext.js"],"sourcesContent":["import AsyncStorage from \"@react-native-async-storage/async-storage\"\nimport { createContext, useReducer } from \"react\"\n\nexport const UserContext = createContext()\n\nconst initialState = {\n  isLogin: false,\n  data: {},\n}\n\nfunction reducer(action) {\n  const { type, payload } = action\n\n  switch (type) {\n    case \"AUTH_SUCCESS\":\n    case \"LOGIN_SUCCESS\":\n      AsyncStorage.setItem(\"token\", payload?.token)\n      return {\n        isLogin: true,\n        data: payload,\n      }\n    case \"AUTH_ERROR\":\n    case \"LOGOUT_SUCCESS\":\n      AsyncStorage.removeItem(\"token\")\n      return {\n        isLogin: false,\n        data: false,\n      }\n  }\n}\n\nexport function UserContextProvider({ children }) {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  return (\n    <UserContext.Provider value={[state, dispatch]}>\n      {children}\n    </UserContext.Provider>\n  )\n}\n"],"mappings":";AAAA,OAAOA,YAAY,MAAM,2CAA2C;AACpE,SAASC,aAAa,EAAEC,UAAU,QAAQ,OAAO;AAAA;AAEjD,OAAO,IAAMC,WAAW,GAAGF,aAAa,EAAE;AAE1C,IAAMG,YAAY,GAAG;EACnBC,OAAO,EAAE,KAAK;EACdC,IAAI,EAAE,CAAC;AACT,CAAC;AAED,SAASC,OAAO,CAACC,MAAM,EAAE;EACvB,IAAQC,IAAI,GAAcD,MAAM,CAAxBC,IAAI;IAAEC,OAAO,GAAKF,MAAM,CAAlBE,OAAO;EAErB,QAAQD,IAAI;IACV,KAAK,cAAc;IACnB,KAAK,eAAe;MAClBT,YAAY,CAACW,OAAO,CAAC,OAAO,EAAED,OAAO,oBAAPA,OAAO,CAAEE,KAAK,CAAC;MAC7C,OAAO;QACLP,OAAO,EAAE,IAAI;QACbC,IAAI,EAAEI;MACR,CAAC;IACH,KAAK,YAAY;IACjB,KAAK,gBAAgB;MACnBV,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC;MAChC,OAAO;QACLR,OAAO,EAAE,KAAK;QACdC,IAAI,EAAE;MACR,CAAC;EAAA;AAEP;AAEA,OAAO,SAASQ,mBAAmB,OAAe;EAAA,IAAZC,QAAQ,QAARA,QAAQ;EAC5C,kBAA0Bb,UAAU,CAACK,OAAO,EAAEH,YAAY,CAAC;IAAA;IAApDY,KAAK;IAAEC,QAAQ;EAEtB,OACE,KAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE,CAACD,KAAK,EAAEC,QAAQ,CAAE;IAAA,UAC5CF;EAAQ,EACY;AAE3B"},"metadata":{},"sourceType":"module"}